require 'rack/test'
include Rack::Test::Methods

# This file was generated by the `rspec --init` command. Conventionally, all
# specs live under a `spec` directory, which RSpec adds to the `$LOAD_PATH`.
# Require this file using `require "spec_helper"` to ensure that it is only
# loaded once.
#
# See http://rubydoc.info/gems/rspec-core/RSpec/Core/Configuration

def app
  Sinatra::Application
end

RSpec.configure do |config|
  config.treat_symbols_as_metadata_keys_with_true_values = true
  config.run_all_when_everything_filtered = true
  config.filter_run :focus

  config.order = 'random'
end

def payload
  {
    "repository"=> {
      "website"=> "",
      "fork"=> false,
      "name"=> "web",
      "scm"=> "git",
      "owner"=> "movielalainc",
      "absolute_url"=> "/movielalainc/web/",
      "slug"=> "web",
      "is_private"=> true
    },
    "truncated"=> false,
    "commits"=> [{
      "node"=> "30620d669a2a",
      "files"=> [],
      "branch"=> "features/awesome-feature",
      "utctimestamp"=> "2013-08-09 13=>04=>32+00=>00",
      "timestamp"=> "2013-08-09 15=>04=>32",
      "raw_node"=> "30620d669a2ad2e918f2a133c9a2505485753071",
      "message"=> "Add watch trailer functional",
      "size"=> -1,
      "author"=> "sparrowpublic",
      "parents"=> ["8bb0be65fac7"],
      "raw_author"=> "Vladimir Vorobyov <sparrowpublic@gmail.com>",
      "revision"=> nil
    }],
    "canon_url"=> "https=>//bitbucket.org",
    "user"=> "sparrowpublic"
  }
end
